(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71ddcf4e"],{"1a33":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"seriesList"},[e.isManager?n("Button",{nativeOn:{click:function(t){e.newFlag=!0}}},[e._v("新建分组")]):e._e(),e.isManager?n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.newItem(t)}}},[e._v("新建项目")]):e._e(),e._l(e.groupList,function(t,i){return n("div",{key:t.objectId,staticClass:"wrap"},[n("div",{staticClass:"title"},[e._v("\n        "+e._s(t.title)+"\n        "),e.isManager?n("div",{staticClass:"action",on:{click:function(t){return e.deleteGroup(i)}}},[e._v("删除分组")]):e._e()]),n("div",{staticClass:"card-wrap"},e._l(t.itemList,function(t,o){return n("Card",{key:o,class:{first:o%5===0},nativeOn:{click:function(t){return e.editItem(i,o)}}},[n("p",{staticStyle:{"margin-bottom":"0px","vertical-align":"middle"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),e.isManager?n("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra"},slot:"extra"},[n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteItem(i,o)}}})],1):e._e(),n("p",[e._v(e._s(t.info))])])}),1)])}),e._e(),n("Modal",{attrs:{title:"删除分组"},on:{"on-ok":e.confirmDeleteGroup},model:{value:e.deleteGroupFlag,callback:function(t){e.deleteGroupFlag=t},expression:"deleteGroupFlag"}},[n("p",[e._v("删除该分组会也会删除该分组下面的算法，确认删除？")])]),n("Modal",{attrs:{title:"删除算法"},on:{"on-ok":e.confirmDelete},model:{value:e.deleteFlag,callback:function(t){e.deleteFlag=t},expression:"deleteFlag"}},[n("p",[e._v("删除后不可恢复，确认要删除这个算法内容？")])]),n("Modal",{attrs:{title:"新建分组"},model:{value:e.newFlag,callback:function(t){e.newFlag=t},expression:"newFlag"}},[n("Input",{attrs:{placeholder:"请输入新建的分组名称"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{nativeOn:{click:function(t){e.newFlag=!1,e.newName=""}}},[e._v("取消")]),n("Button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.confirmNewGroup(t)}}},[e._v("确认")])],1)],1)],2)},o=[],a=(n("1b79"),n("1f7b"),{data:function(){return{newName:"",newFlag:!1,deleteGroupFlag:!1,deleteFlag:!1,deleteIndex:null,groupList:[],groupMap:{}}},computed:{isManager:function(){return common.isManager}},mounted:function(){this.getGroup()},methods:{getGroup:function(){var e=this;common.get("classes/Group").then(function(t){var n=[];t.results.forEach(function(t){n.push(t.objectId),t.itemList=[],e.groupMap[t.objectId]=t}),e.getItemList(n)})},getItemList:function(e){var t=this,n={groupId:{$in:e}},i="?where="+JSON.stringify(n);i+="&keys=groupId,info,title,objectId",common.get("classes/itemList"+i).then(function(e){for(var n in e.results.forEach(function(e){t.groupMap[e.groupId].itemList.push(e)}),t.groupMap){var i=t.groupMap[n];t.groupList.push(i)}})},cloneJson:function(e){return JSON.parse(JSON.stringify(e))},confirmNewGroup:function(){var e=this;if(this.newName){this.newFlag=!1;var t=this.cloneJson(this.newName),n={title:t};common.post("classes/Group",n).then(function(n){e.newName="",e.groupList.push({objectId:n.objectId,title:t,itemList:[]}),e.$Message.success(t+"分组创建成功!")})}else this.$Message.info("请输入分组的名称!")},copy:function(e,t){var n=this.cloneJson(this.groupList[e].itemList[t]);this.groupList[e].itemList.splice(t,0,n),this.$Message.success("复制成功!")},deleteItem:function(e,t){this.deleteIndex={index:e,eleIndex:t},this.deleteFlag=!0},remove:function(e,t,n){var i=this.groupList[e].itemList.splice(t,1);this.groupList[n].itemList.push(i[0]),this.$Message.success("移动成功!")},confirmDelete:function(){var e=this,t=this.deleteIndex.index,n=this.deleteIndex.eleIndex,i=this.groupList[t].itemList;common.delete("classes/itemList/"+i[n].objectId).then(function(t){e.$Message.success("删除"+i[n].title+"成功!"),i.splice(n,1)})},deleteGroup:function(e){this.deleteIndex=e,this.deleteGroupFlag=!0},confirmDeleteGroup:function(){var e=this,t=this.groupList[this.deleteIndex],n=this.groupList[this.deleteIndex].objectId,i=[{method:"DELETE",path:"/1/classes/Group/"+n}];t.itemList.forEach(function(e){i.push({method:"DELETE",path:"/1/classes/itemList/"+e.objectId})}),common.post("batch",{requests:i}).then(function(t){e.groupList.splice(e.deleteIndex,1),e.$Message.success("删除分组成功!")})},editItem:function(e,t){var n=this.groupList[e].itemList[t];this.$router.push({path:"/edit",query:{id:n.objectId}})},seeInfo:function(){},newItem:function(){this.$router.push({path:"/new"})}}}),s=a,r=(n("abcb"),n("17cc")),l=Object(r["a"])(s,i,o,!1,null,null,null);t["default"]=l.exports},"1b79":function(e,t,n){for(var i=n("3e2e"),o=n("9312"),a=n("7711"),s=n("ab6d"),r=n("2944"),l=n("259f"),c=n("5126"),h=c("iterator"),d=c("toStringTag"),u=l.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(m),f=0;f<g.length;f++){var p,L=g[f],w=m[L],k=s[L],v=k&&k.prototype;if(v&&(v[h]||r(v,h,u),v[d]||r(v,d,L),l[L]=u,w))for(p in i)v[p]||a(v,p,i[p],!0)}},"1f7b":function(e,t,n){"use strict";var i={algorithm:{baseInfo:{name:"",groupId:"",info:"",doorLeafHeight:0,doorLeafWidth:0,bigImg:"",smallImg:"",doorLeafThick:0},other:{soil:[{name:"面板料",length:-40,lenPara:"doorLeafHeight",width:-40,fixedFlag:!1,lenFixedFlag:!1,thick:5,thickType:"多层板",doorType:"大门",num:2},{name:"顶部面板",length:-40,lenPara:"doorLeafHeight",width:-40,fixedFlag:!1,lenFixedFlag:!1,thick:5,thickType:"多层板",doorType:"大门",num:2},{name:"池板料",length:-20,lenPara:"doorLeafHeight",width:120,fixedFlag:!0,lenFixedFlag:!1,thick:12,thickType:"中纤板",num:2}],skin:[]},line:{normal:[{name:"横套线",length:0,lenPara:"doorWidth",width:null,thick:"内15",thickness:"",num:2},{name:"竖套线",length:0,lenPara:"doorHeight",width:null,thick:"内15",thickness:"",num:4}],three:[{name:"横套线",length:0,lenPara:"doorWidth",width:null,thick:"内15",thickness:"",num:1},{name:"竖套线",length:0,lenPara:"doorHeight",width:null,thick:"内15",thickness:"",num:2}]},door:[{name:"横挡条",length:-18,lenPara:"doorLeafWidth",width:{maxLen:50,fixedLen:113},thick:12,num:1,showCondition:!0},{name:"横主板",length:50,lenPara:"doorLeafWidth",width:0,thick:22,num:1},{name:"竖挡条",length:10,lenPara:"doorLeafHeight",width:{maxLen:50,fixedLen:113},thick:12,num:2,showCondition:!0},{name:"竖主板",lenPara:"doorLeafHeight",length:10,width:0,thick:22,num:2}],cupboardDoors:[{name:"横挡条",length:-18,lenPara:"doorLeafWidth",width:{maxLen:75,fixedLen:108},thick:12,num:1,showCondition:!0},{name:"横主板",length:50,lenPara:"doorLeafWidth",width:0,thick:22,num:1},{name:"竖挡条",length:10,lenPara:"doorLeafHeight",width:{maxLen:75,fixedLen:108},thick:12,num:2,showCondition:!0},{name:"竖主板",lenPara:"doorLeafHeight",length:10,width:0,thick:22,num:2}],openDoors:[{name:"横挡条",length:-18,lenPara:"doorLeafWidth",width:{maxLen:50,fixedLen:118},thick:12,num:1,showCondition:!0},{name:"横主板",length:50,lenPara:"doorLeafWidth",width:0,thick:22,num:1},{name:"竖挡条",length:10,lenPara:"doorLeafHeight",width:{maxLen:50,fixedLen:118},thick:12,num:2,showCondition:!0},{name:"竖主板",lenPara:"doorLeafHeight",length:10,width:0,thick:22,num:2}],windowCover:[{name:"窗套",lenPara:"doorHeight",length:0,width:0,thick:22,num:2},{name:"窗套",length:0,lenPara:"doorWidth",width:0,thick:22,num:1}],dumb:[{name:"三面哑口套",lenPara:"doorHeight",length:0,width:0,thick:22,num:2},{name:"三面哑口套",length:0,lenPara:"doorWidth",width:0,thick:22,num:1}]}};t["a"]=i},"8d23":function(e,t,n){},abcb:function(e,t,n){"use strict";var i=n("8d23"),o=n.n(i);o.a}}]);